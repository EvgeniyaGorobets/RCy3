<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upgrading existing scripts • RCy3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Upgrading existing scripts">
<meta property="og:description" content="RCy3">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RCy3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.15.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Cancer-networks-and-data.html">Cancer networks and data</a>
    </li>
    <li>
      <a href="../articles/Custom-Graphics.html">Custom Graphics and Labels</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-NDEx.html">Cytoscape and NDEx</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-graphNEL.html">Cytoscape and graphNEL</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-iGraph.html">Cytoscape and igraph</a>
    </li>
    <li>
      <a href="../articles/Filtering-Networks.html">Filtering Networks</a>
    </li>
    <li>
      <a href="../articles/Group-nodes.html">Group nodes</a>
    </li>
    <li>
      <a href="../articles/Identifier-mapping.html">Identifier mapping</a>
    </li>
    <li>
      <a href="../articles/Importing-data.html">Importing data</a>
    </li>
    <li>
      <a href="../articles/Network-functions-and-visualization.html">Network functions and visualization</a>
    </li>
    <li>
      <a href="../articles/Overview-of-RCy3.html">Overview of RCy3</a>
    </li>
    <li>
      <a href="../articles/Phylogenetic-trees.html">Phylogenetic-trees</a>
    </li>
    <li>
      <a href="../articles/Upgrading-existing-scripts.html">Upgrading existing scripts</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cytoscape/RCy3/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Upgrading-existing-scripts_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Upgrading existing scripts</h1>
                        <h4 class="author">by Alexander Pico, Tanja Muetze, Paul Shannon</h4>
            
            <h4 class="date">2021-11-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cytoscape/RCy3/blob/master/vignettes/Upgrading-existing-scripts.Rmd"><code>vignettes/Upgrading-existing-scripts.Rmd</code></a></small>
      <div class="hidden name"><code>Upgrading-existing-scripts.Rmd</code></div>

    </div>

    
    
<p><em>Cytoscape</em> is a well-known bioinformatics tool for displaying and exploring biological networks. <strong>R</strong> is a powerful programming language and environment for statistical and exploratory data analysis. <em>RCy3</em> uses CyREST to communicate between <strong>R</strong> and Cytoscape, allowing any graphs (e.g., iGraph, graphNEL or dataframes) to be viewed, explored and manipulated with the Cytoscape point-and-click visual interface. Thus, via RCy3, these two quite different, quite useful bioinformatics software environments are connected, mutually enhancing each other, providing new possibilities for exploring biological data.</p>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"RCy3"</span> <span class="op"><a href="https://rdrr.io/pkg/BiocGenerics/man/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span>
    <span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/install.html">install</a></span><span class="op">(</span><span class="st">"RCy3"</span><span class="op">)</span>
<span class="op">}</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cytoscape/RCy3">RCy3</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="prerequisites" class="section level1">
<h1 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h1>
<p>In addition to this package (RCy3), you will need:</p>
<ul>
<li>
<strong>Cytoscape 3.6.1</strong> or greater, which can be downloaded from <a href="http://www.cytoscape.org/download.php" class="uri">http://www.cytoscape.org/download.php</a>. Simply follow the installation instructions on screen.</li>
</ul>
</div>
<div id="big-changes-for-rcy3" class="section level1">
<h1 class="hasAnchor">
<a href="#big-changes-for-rcy3" class="anchor"></a>Big changes for RCy3</h1>
<p>Welcome to RCy3 v2.0! If you have been using prior versions of RCy3, then this is a big step. The fundamental change is that CytoscapeConnection and CytoscapeWindow classes are no longer used. These were pervasive arguments throughout the package in prior versions, so practically every function signature has changed. However, this change simplifies functions and in 99% of cases the old cw and cc args can simply be deleted.</p>
<p><strong>Some summary stats regarding the changes:</strong></p>
<ul>
<li>54 new functions (244 total)</li>
<li>Other than function signatures,
<ul>
<li>44 functions are otherwise unchanged</li>
<li>37 functions have been annotated as deprecated</li>
<li>69 functions have been renamed to match updated docs
<ul>
<li>38 functions have been annotated as defunct</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Going forward, this realignment will help us maintain the package in sync with changes to critical upstream resources such as Cytoscape’s CyREST API. It will also greatly simply script writing for users. We hope you’ll stay onboard.</p>
</div>
<div id="where-to-start" class="section level1">
<h1 class="hasAnchor">
<a href="#where-to-start" class="anchor"></a>Where to start</h1>
<p>We documented this upgrade in a few different ways to help you update existing scripts you don’t want to leave behind and to adopt the new conceptual model for RCy3 going forward.</p>
<div id="upgrading-existing-scripts" class="section level2">
<h2 class="hasAnchor">
<a href="#upgrading-existing-scripts" class="anchor"></a>Upgrading Existing Scripts</h2>
<p>Here’s a wiki page from the main RCy3 repo that we will keep updated with helpful tips. I’d recommend starting there:</p>
<ul>
<li><a href="https://github.com/cytoscape/RCy3/wiki/Upgrading-Existing-Scripts" class="uri">https://github.com/cytoscape/RCy3/wiki/Upgrading-Existing-Scripts</a></li>
</ul>
</div>
<div id="news" class="section level2">
<h2 class="hasAnchor">
<a href="#news" class="anchor"></a>NEWS</h2>
<p>For a laundry list of changes made to the package in this transition to v2.0, check out the NEWS from that release:</p>
<ul>
<li><a href="https://www.bioconductor.org/packages/3.7/bioc/news/RCy3/NEWS" class="uri">https://www.bioconductor.org/packages/3.7/bioc/news/RCy3/NEWS</a></li>
</ul>
</div>
</div>
<div id="example-upgrades" class="section level1">
<h1 class="hasAnchor">
<a href="#example-upgrades" class="anchor"></a>Example upgrades</h1>
<p>It is always helpful to see examples. Here are a few of the most common chunks of RCy3 usage, provided in <em>BEFORE</em> and <em>AFTER</em> versions. If you have code similar to these in your pre-v2.0 scripts, then try these suggested swaps.</p>
<p><strong>Note: don’t run the <em>BEFORE</em> chunks with the latest RCy3 package. These chunks are NOT meant to be run as a sequence, but rather as isolated examples.</strong></p>
<div id="example-displaygraph" class="section level2">
<h2 class="hasAnchor">
<a href="#example-displaygraph" class="anchor"></a>Example: displayGraph</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html">new</a></span> <span class="op">(</span><span class="st">'graphNEL'</span>, edgemode<span class="op">=</span><span class="st">'directed'</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'A'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'B'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'C'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addEdge.html">addEdge</a></span> <span class="op">(</span><span class="st">'A'</span>, <span class="st">'B'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addEdge.html">addEdge</a></span> <span class="op">(</span><span class="st">'B'</span>, <span class="st">'C'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">cw</span> <span class="op">&lt;-</span> <span class="fu">CytoscapeWindow</span> <span class="op">(</span><span class="st">'vignette'</span>, graph<span class="op">=</span><span class="va">g</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu">displayGraph</span> <span class="op">(</span><span class="va">cw</span><span class="op">)</span>
<span class="fu"><a href="../reference/layoutNetwork.html">layoutNetwork</a></span> <span class="op">(</span><span class="va">cw</span>, layout.name<span class="op">=</span><span class="st">'grid'</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html">new</a></span> <span class="op">(</span><span class="st">'graphNEL'</span>, edgemode<span class="op">=</span><span class="st">'directed'</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'A'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'B'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addNode.html">addNode</a></span> <span class="op">(</span><span class="st">'C'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addEdge.html">addEdge</a></span> <span class="op">(</span><span class="st">'A'</span>, <span class="st">'B'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/graph/man/addEdge.html">addEdge</a></span> <span class="op">(</span><span class="st">'B'</span>, <span class="st">'C'</span>, <span class="va">g</span><span class="op">)</span>
<span class="va">net.suid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createNetworkFromGraph.html">createNetworkFromGraph</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'vignette'</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: the network SUID is returned rather than an R object</li>
<li>Note: display and layout are done automatically</li>
</ul>
</div>
<div id="example-cyplot" class="section level2">
<h2 class="hasAnchor">
<a href="#example-cyplot" class="anchor"></a>Example: cyPlot</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">node.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span><span class="op">)</span>,
           stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">edge.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>source<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"C"</span><span class="op">)</span>,
           target<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"D"</span><span class="op">)</span>,
           interaction<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"inhibits"</span>,<span class="st">"interacts"</span>,<span class="st">"activates"</span>,<span class="st">"interacts"</span><span class="op">)</span>,  <span class="co"># optional</span>
           stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">cyPlot</span><span class="op">(</span><span class="va">node.df</span>, <span class="va">edge.df</span><span class="op">)</span>
<span class="va">cw</span> <span class="op">&lt;-</span> <span class="fu">CytoscapeWindow</span><span class="op">(</span><span class="st">"vignette2"</span>, <span class="va">g</span><span class="op">)</span>
<span class="fu">displayGraph</span><span class="op">(</span><span class="va">cw</span><span class="op">)</span>
<span class="fu"><a href="../reference/layoutNetwork.html">layoutNetwork</a></span><span class="op">(</span><span class="va">cw</span>, <span class="st">"force-directed"</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">node.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span><span class="op">)</span>,
           stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">edge.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>source<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"C"</span><span class="op">)</span>,
           target<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"D"</span><span class="op">)</span>,
           interaction<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"inhibits"</span>,<span class="st">"interacts"</span>,<span class="st">"activates"</span>,<span class="st">"interacts"</span><span class="op">)</span>,  <span class="co"># optional</span>
           stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">net.suid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createNetworkFromDataFrames.html">createNetworkFromDataFrames</a></span> <span class="op">(</span><span class="va">node.df</span>, <span class="va">edge.df</span>, <span class="st">"vignette2"</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: Same node and edge dataframes, except rather than having the key columns being positionally defined (for cyPlot), they need to be semantically defined using “id”, “source”, “target” and “interaction” (for createNetworkFromDataFrames)</li>
<li>Note: display and layout are done automatically</li>
</ul>
</div>
<div id="example-loading-nodedata" class="section level2">
<h2 class="hasAnchor">
<a href="#example-loading-nodedata" class="anchor"></a>Example: loading nodeData</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">initNodeAttribute</span> <span class="op">(</span>graph<span class="op">=</span><span class="va">g</span>,  attribute.name<span class="op">=</span><span class="st">'moleculeType'</span>,
                            attribute.type<span class="op">=</span><span class="st">'char'</span>,
                            default.value<span class="op">=</span><span class="st">'undefined'</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">initNodeAttribute</span> <span class="op">(</span>graph<span class="op">=</span><span class="va">g</span>,  <span class="st">'lfc'</span>, <span class="st">'numeric'</span>, <span class="fl">0.0</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'A'</span>, <span class="st">'moleculeType'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'kinase'</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'B'</span>, <span class="st">'moleculeType'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'TF'</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'C'</span>, <span class="st">'moleculeType'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'cytokine'</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'D'</span>, <span class="st">'moleculeType'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'cytokine'</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'A'</span>, <span class="st">'lfc'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1.2</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'B'</span>, <span class="st">'lfc'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1.8</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'C'</span>, <span class="st">'lfc'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">3.2</span>
<span class="fu"><a href="https://rdrr.io/pkg/graph/man/nodeData-methods.html">nodeData</a></span> <span class="op">(</span><span class="va">g</span>, <span class="st">'D'</span>, <span class="st">'lfc'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">2.2</span>
<span class="va">cw</span> <span class="op">=</span> <span class="fu">setGraph</span> <span class="op">(</span><span class="va">cw</span>, <span class="va">g</span><span class="op">)</span>
<span class="fu">displayGraph</span> <span class="op">(</span><span class="va">cw</span><span class="op">)</span> </code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">node.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'C'</span>,<span class="st">'D'</span><span class="op">)</span>, 
                        moleculeType<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'kinase'</span>,<span class="st">'TF'</span>,<span class="st">'cytokine'</span>,<span class="st">'cytokine'</span><span class="op">)</span>,
                        lfc<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.8</span>, <span class="fl">3.2</span>, <span class="fl">2.2</span><span class="op">)</span>,
                        stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="../reference/loadTableData.html">loadTableData</a></span><span class="op">(</span><span class="va">node.data</span>, <span class="st">'id'</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: simply compose a data.frame and then load it! No need to initialize or alter local graphNEL object</li>
<li>Note: stringsAsFactors = FALSE is important or else string values won’t load</li>
<li>Note: set and display are no longer needed</li>
</ul>
</div>
<div id="example-setdefaults" class="section level2">
<h2 class="hasAnchor">
<a href="#example-setdefaults" class="anchor"></a>Example: setDefaults</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">setDefaultNodeShape</span> <span class="op">(</span><span class="va">cw</span>, <span class="st">'OCTAGON'</span><span class="op">)</span>
<span class="fu">setDefaultNodeColor</span> <span class="op">(</span><span class="va">cw</span>, <span class="st">'#AAFF88'</span><span class="op">)</span>
<span class="fu">setDefaultNodeSize</span>  <span class="op">(</span><span class="va">cw</span>, <span class="fl">80</span><span class="op">)</span>
<span class="fu">setDefaultNodeFontSize</span> <span class="op">(</span><span class="va">cw</span>, <span class="fl">40</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/setNodeShapeDefault.html">setNodeShapeDefault</a></span> <span class="op">(</span><span class="st">'OCTAGON'</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeColorDefault.html">setNodeColorDefault</a></span> <span class="op">(</span><span class="st">'#AAFF88'</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeSizeDefault.html">setNodeSizeDefault</a></span>  <span class="op">(</span><span class="fl">80</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeFontSizeDefault.html">setNodeFontSizeDefault</a></span> <span class="op">(</span><span class="fl">40</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: no more cw!</li>
<li>Note: subtley renamed functions for consistency across package (sorry!)</li>
</ul>
</div>
<div id="example-rule-based-mapping" class="section level2">
<h2 class="hasAnchor">
<a href="#example-rule-based-mapping" class="anchor"></a>Example: Rule based mapping</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">attribute.values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">'kinase'</span>,  <span class="st">'TF'</span>,       <span class="st">'cytokine'</span><span class="op">)</span>
<span class="va">node.shapes</span>      <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">'DIAMOND'</span>, <span class="st">'TRIANGLE'</span>, <span class="st">'RECTANGLE'</span><span class="op">)</span>
<span class="fu">setNodeShapeRule</span> <span class="op">(</span><span class="va">cw</span>, <span class="st">'moleculeType'</span>, <span class="va">attribute.values</span>, <span class="va">node.shapes</span><span class="op">)</span>
<span class="fu">setNodeColorRule</span> <span class="op">(</span><span class="va">cw</span>, <span class="st">'lfc'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="op">-</span><span class="fl">3.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span><span class="op">)</span>,
                  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">'#00AA00'</span>, <span class="st">'#00FF00'</span>, <span class="st">'#FFFFFF'</span>, <span class="st">'#FF0000'</span>, <span class="st">'#AA0000'</span><span class="op">)</span>,
                  mode<span class="op">=</span><span class="st">'interpolate'</span><span class="op">)</span>
<span class="va">control.points</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="op">-</span><span class="fl">1.2</span>, <span class="fl">2.0</span>, <span class="fl">4.0</span><span class="op">)</span>
<span class="va">node.sizes</span>     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">90</span><span class="op">)</span>
<span class="fu">setNodeSizeRule</span> <span class="op">(</span><span class="va">cw</span>, <span class="st">'lfc'</span>, <span class="va">control.points</span>, <span class="va">node.sizes</span>, mode<span class="op">=</span><span class="st">'interpolate'</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">attribute.values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">'kinase'</span>,  <span class="st">'TF'</span>,       <span class="st">'cytokine'</span><span class="op">)</span>
<span class="va">node.shapes</span>      <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="st">'DIAMOND'</span>, <span class="st">'TRIANGLE'</span>, <span class="st">'RECTANGLE'</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeShapeMapping.html">setNodeShapeMapping</a></span><span class="op">(</span><span class="st">'moleculeType'</span>, <span class="va">attribute.values</span>, <span class="va">node.shapes</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeColorMapping.html">setNodeColorMapping</a></span><span class="op">(</span><span class="st">'lfc'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span><span class="op">)</span>,
                    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'#00AA00'</span>, <span class="st">'#00FF00'</span>, <span class="st">'#FFFFFF'</span>, <span class="st">'#FF0000'</span>, <span class="st">'#AA0000'</span><span class="op">)</span><span class="op">)</span>
<span class="va">control.points</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="op">-</span><span class="fl">1.2</span>, <span class="fl">2.0</span>, <span class="fl">4.0</span><span class="op">)</span>
<span class="va">node.sizes</span>     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">90</span><span class="op">)</span>
<span class="fu"><a href="../reference/setNodeSizeMapping.html">setNodeSizeMapping</a></span><span class="op">(</span><span class="st">'lfc'</span>,<span class="va">control.points</span>, <span class="va">node.sizes</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: no more cw!</li>
<li>Note: Rules are now Mappings (like they are called in Cytoscape)</li>
<li>Note: “interpolate” (a.k.a. “continuous”) is the default, so you can leave it out</li>
</ul>
</div>
<div id="example-selecting-nodes" class="section level2">
<h2 class="hasAnchor">
<a href="#example-selecting-nodes" class="anchor"></a>Example: Selecting nodes</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/selectNodes.html">selectNodes</a></span><span class="op">(</span><span class="va">cw</span>, <span class="st">'B'</span><span class="op">)</span>
<span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getSelectedNodes.html">getSelectedNodes</a></span> <span class="op">(</span><span class="va">cw</span><span class="op">)</span>
<span class="fu">selectFirstNeighborsOfSelectedNodes</span> <span class="op">(</span><span class="va">cw</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/selectNodes.html">selectNodes</a></span><span class="op">(</span><span class="st">'B'</span>, <span class="st">'name'</span><span class="op">)</span> <span class="co">#or 'id'</span>
<span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getSelectedNodes.html">getSelectedNodes</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../reference/selectFirstNeighbors.html">selectFirstNeighbors</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: no more cw!</li>
<li>Note: selectNodes is by node SUID by default, so you now have to specify if using node name (or other alternative columns). This protects against ambiguous selection.</li>
<li>Note: selectNodes actually returns the selected nodes and edges after the operation, so you could just do:</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selectNodes.html">selectNodes</a></span><span class="op">(</span><span class="st">'B'</span>, <span class="st">'name'</span><span class="op">)</span><span class="op">$</span><span class="va">nodes</span></code></pre></div>
</div>
<div id="example-saving-and-exporting" class="section level2">
<h2 class="hasAnchor">
<a href="#example-saving-and-exporting" class="anchor"></a>Example: Saving and exporting</h2>
<p><em>BEFORE</em></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">saveImage</span><span class="op">(</span><span class="va">cw</span>, <span class="st">"sample_image"</span>, <span class="st">"png"</span>, h <span class="op">=</span> <span class="fl">800</span><span class="op">)</span>
<span class="fu">saveNetwork</span><span class="op">(</span><span class="va">cw</span>, <span class="st">"sample_session"</span>, format <span class="op">=</span> <span class="st">"cys"</span><span class="op">)</span></code></pre></div>
<p><em>AFTER</em></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/exportImage.html">exportImage</a></span><span class="op">(</span><span class="st">"sample_image"</span>, <span class="st">"png"</span>, h<span class="op">=</span> <span class="fl">800</span><span class="op">)</span>
<span class="fu"><a href="../reference/saveSession.html">saveSession</a></span><span class="op">(</span><span class="st">"sample_session"</span><span class="op">)</span></code></pre></div>
<ul>
<li>Note: no more cw!</li>
<li>Note: subtle renames to match actual operations and outputs</li>
</ul>
</div>
</div>
<div id="going-forward" class="section level1">
<h1 class="hasAnchor">
<a href="#going-forward" class="anchor"></a>Going forward</h1>
<p>And the next time you start a script from scratch, consider reviewing the vignettes and other RCy3 scripts available online.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/browseVignettes.html">browseVignettes</a></span><span class="op">(</span><span class="st">'RCy3'</span><span class="op">)</span></code></pre></div>
<p>Repository of R scripts for Cytoscape, many using RCy3:</p>
<ul>
<li><a href="https://github.com/cytoscape/cytoscape-automation/tree/master/for-scripters/R" class="uri">https://github.com/cytoscape/cytoscape-automation/tree/master/for-scripters/R</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alex Pico, Tanja Muetze, Paul Shannon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
