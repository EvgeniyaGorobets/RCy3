<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifier mapping • RCy3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Identifier mapping">
<meta property="og:description" content="RCy3">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RCy3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.15.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Cancer-networks-and-data.html">Cancer networks and data</a>
    </li>
    <li>
      <a href="../articles/Custom-Graphics.html">Custom Graphics and Labels</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-NDEx.html">Cytoscape and NDEx</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-graphNEL.html">Cytoscape and graphNEL</a>
    </li>
    <li>
      <a href="../articles/Cytoscape-and-iGraph.html">Cytoscape and igraph</a>
    </li>
    <li>
      <a href="../articles/Filtering-Networks.html">Filtering Networks</a>
    </li>
    <li>
      <a href="../articles/Group-nodes.html">Group nodes</a>
    </li>
    <li>
      <a href="../articles/Identifier-mapping.html">Identifier mapping</a>
    </li>
    <li>
      <a href="../articles/Importing-data.html">Importing data</a>
    </li>
    <li>
      <a href="../articles/Network-functions-and-visualization.html">Network functions and visualization</a>
    </li>
    <li>
      <a href="../articles/Overview-of-RCy3.html">Overview of RCy3</a>
    </li>
    <li>
      <a href="../articles/Phylogenetic-trees.html">Phylogenetic-trees</a>
    </li>
    <li>
      <a href="../articles/Upgrading-existing-scripts.html">Upgrading existing scripts</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cytoscape/RCy3/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Identifier-mapping_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Identifier mapping</h1>
                        <h4 class="author">by Alexander Pico</h4>
            
            <h4 class="date">2021-11-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cytoscape/RCy3/blob/master/vignettes/Identifier-mapping.Rmd"><code>vignettes/Identifier-mapping.Rmd</code></a></small>
      <div class="hidden name"><code>Identifier-mapping.Rmd</code></div>

    </div>

    
    
<p>This vignette will show you how to map or translate identifiers from one database (e.g., Ensembl) to another (e.g, Entrez Gene). This is a common requirement for data analysis. In the context of Cytoscape, for example, identifier mapping is needed when you want to import data to overlay on a network but you don’t have matching keys. There are three distinct examples below, highlighting different lessons that may apply to your use cases.</p>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"RCy3"</span> <span class="op"><a href="https://rdrr.io/pkg/BiocGenerics/man/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span>
    <span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/install.html">install</a></span><span class="op">(</span><span class="st">"RCy3"</span><span class="op">)</span>
<span class="op">}</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cytoscape/RCy3">RCy3</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="required-software" class="section level1">
<h1 class="hasAnchor">
<a href="#required-software" class="anchor"></a>Required Software</h1>
<p>The whole point of RCy3 is to connect with Cytoscape. You will need to install and launch Cytoscape:</p>
<ul>
<li>Download the latest Cytoscape from <a href="http://www.cytoscape.org/download.php" class="uri">http://www.cytoscape.org/download.php</a>
</li>
<li>Complete installation wizard</li>
<li>Launch Cytoscape</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/cytoscapePing.html">cytoscapePing</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="example-species-specific-considerations" class="section level1">
<h1 class="hasAnchor">
<a href="#example-species-specific-considerations" class="anchor"></a>Example: Species specific considerations</h1>
<p>When planning to import data, you need to consider the key columns you have in your network data and in your table data. It’s always recommended that you use proper identifiers as your keys (e.g., from databases like Ensembl and Uniprot-TrEMBL). Relying on conventional symbols and names is not standard and error prone.</p>
<p>Let’s start with the sample network provided by Cytoscape.</p>
<p><strong>Caution: Loading a session file will discard your current session. Save first, if you have networks or data you want to keep. Use saveSession(‘path_to_file’).</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/openSession.html">openSession</a></span><span class="op">(</span><span class="op">)</span>  <span class="co">#Closes current session (without saving) and opens a sample session file</span></code></pre></div>
<p>You should now see a network with just over 300 nodes. If you look at the Node Table, you’ll see that there are proper identifiers in the <em>name</em> columns, like “YDL194W”. These are the Ensembl-supported IDs for Yeast.</p>
<div id="perform-identifier-mapping" class="section level2">
<h2 class="hasAnchor">
<a href="#perform-identifier-mapping" class="anchor"></a>Perform identifier mapping</h2>
<p>You need to know a few things about your network in order to run this function, e.g., the species and starting (or source) identifier type. This isn’t usually a problem, but <strong>this example highlights a unique case where the Ensembl ID type for a particular species (i.e., Yeast) has a particular format (e.g., YDL194W)</strong>, rather than the more typical ENSXXXG00001232 format.</p>
<p>So, with this knowledge, you can run the following function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mapped.cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapTableColumn.html">mapTableColumn</a></span><span class="op">(</span><span class="st">'name'</span>,<span class="st">'Yeast'</span>,<span class="st">'Ensembl'</span>,<span class="st">'Entrez Gene'</span><span class="op">)</span></code></pre></div>
<p>We are asking Cytoscape to look in the <em>name</em> column for <em>Yeast Ensembl</em> IDs and then provide a new columns of corresponding <em>Entrez Gene</em> IDs. And if you look back at the Node Table, you’ll see that new column (all the way to the right). That’s it!</p>
<p>The return value is a data frame of all the mappings between Ensembl and Entrez Gene that were found for your network in case you want those details:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mapped.cols</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span> <span class="co">#first three entries</span></code></pre></div>
<p><em>Note: the row names of the return data frame are the node SUIDs from Cytoscape. These are handy if you want to load the mappings yourself (see last example).</em></p>
</div>
</div>
<div id="example-from-proteins-to-genes" class="section level1">
<h1 class="hasAnchor">
<a href="#example-from-proteins-to-genes" class="anchor"></a>Example: From proteins to genes</h1>
<p>For this next example, you’ll need the STRING app to access the STRING database from within Cytoscape: * Install the STRING app from <a href="https://apps.cytoscape.org/apps/stringapp" class="uri">https://apps.cytoscape.org/apps/stringapp</a></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#available in Cytoscape 3.7.0 and above</span>
<span class="fu"><a href="../reference/installApp.html">installApp</a></span><span class="op">(</span><span class="st">'STRINGapp'</span><span class="op">)</span>  </code></pre></div>
<p>Now we can import protein interaction networks with a ton of annotations from the STRING database with a simple commandsGET function, like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">string.cmd</span> <span class="op">=</span> <span class="st">'string disease query disease="breast cancer" cutoff=0.9 species="Homo sapiens" limit=150'</span>
<span class="fu"><a href="../reference/commandsGET.html">commandsGET</a></span><span class="op">(</span><span class="va">string.cmd</span><span class="op">)</span>

<span class="co"># for more information on string commands:</span>
<span class="co"># commandsHelp('string')</span>
<span class="co"># commandsHelp('string disease query')</span></code></pre></div>
<p>Check out the Node Table and you’ll see display names and identifiers. In particular, the <em>canonical name</em> column appears to hold Uniprot-TrEMBL IDs. Nice, we can use that!</p>
<div id="perform-identifier-mapping-1" class="section level2">
<h2 class="hasAnchor">
<a href="#perform-identifier-mapping-1" class="anchor"></a>Perform identifier mapping</h2>
<p>Say we have a dataset keyed by Ensembl gene identifiers. Well, then we would want to perform this mapping:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mapped.cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapTableColumn.html">mapTableColumn</a></span><span class="op">(</span><span class="st">'stringdb::canonical name'</span>,<span class="st">'Human'</span>,<span class="st">'Uniprot-TrEMBL'</span>,<span class="st">'Ensembl'</span><span class="op">)</span></code></pre></div>
<p>Scroll all the way to the right in the Node Table and you’ll see a new column with Ensembl IDs. <strong>This example highlights a useful translation from protein to gene identifiers (or vice versa), but is also a caution to be aware of the assumptions involved when making this translation.</strong> For example, a typical gene encodes for many proteins, so you may have many-to-one mappings in your results.</p>
</div>
</div>
<div id="example-mixed-identifiers" class="section level1">
<h1 class="hasAnchor">
<a href="#example-mixed-identifiers" class="anchor"></a>Example: Mixed identifiers</h1>
<p>From time to time, you’ll come across a case where the identifiers in your network are of mixed types. This is a rare scenario, but here is one approach to solving it.</p>
<p>First, you’ll need the WikiPathways app to access the WikiPathways database. The pathways in WikiPathways are curated by a community of interested researchers and citizen scientists. As such, there are times where authors might use different sources of identifiers. They are valid IDs, just not all from the same source. Future versions of the WikiPathways app will provide pre-mapped columns to a single ID type. But in the meantime (and relevant to other use cases), <strong>this example highlights how to handle a source of mixed identifier types.</strong></p>
<ul>
<li>Install the WikiPathways app from <a href="https://apps.cytoscape.org/apps/wikipathways" class="uri">https://apps.cytoscape.org/apps/wikipathways</a>
</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#available in Cytoscape 3.7.0 and above</span>
<span class="fu"><a href="../reference/installApp.html">installApp</a></span><span class="op">(</span><span class="st">'WikiPathways'</span><span class="op">)</span>  </code></pre></div>
<p>Now we can import an Apoptosis Pathway from WikiPathways. Either from the web site (<a href="https://wikipathways.org" class="uri">https://wikipathways.org</a>), or from the Network Search Tool in Cytoscape GUI or from the rWikiPathways package, we could identify the pathway as WP254.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wp.cmd</span> <span class="op">=</span> <span class="st">'wikipathways import-as-pathway id="WP254"'</span>
<span class="fu"><a href="../reference/commandsGET.html">commandsGET</a></span><span class="op">(</span><span class="va">wp.cmd</span><span class="op">)</span>

<span class="co"># for more information on wikipathways commands:</span>
<span class="co"># commandsHelp('wikipathways')</span>
<span class="co"># commandsHelp('wikipathways import-as-pathway')</span></code></pre></div>
<p>Take look in the <em>XrefId</em> column and you’ll see a mix of identifier types. The next column over, <em>XrefDatasource</em>, conveniently names each type’s source. Ignoring the metabolites for this example, we just have a mix of Ensembl and Entrez Gene to deal with.</p>
<div id="perform-identifier-mapping-2" class="section level2">
<h2 class="hasAnchor">
<a href="#perform-identifier-mapping-2" class="anchor"></a>Perform identifier mapping</h2>
<p>Say we want a column with only Ensembl IDs. The easiest approach is to simply overwrite all the non-Ensembl IDs, i.e., in this case, Entrez Gene IDs. Let’s collect the mappings first:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mapped.cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapTableColumn.html">mapTableColumn</a></span><span class="op">(</span><span class="st">'XrefId'</span>,<span class="st">'Human'</span>,<span class="st">'Entrez Gene'</span>,<span class="st">'Ensembl'</span><span class="op">)</span></code></pre></div>
<p>Next, we want to remove the <na> values from the <em>Ensembl</em> column in our resulting mapped.cols data frame. We’ll also remove the original source columns (to avoid confusion) and rename our <em>Ensembl</em> column to <em>XrefId</em> to prepare to overwrite. Then we’ll load that into Cytosacpe:</na></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">only.mapped.cols</span> <span class="op">&lt;-</span> <span class="va">mapped.cols</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">mapped.cols</span><span class="op">)</span>, <span class="st">'Ensembl'</span>, drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/row_colnames.html">colnames</a></span><span class="op">(</span><span class="va">only.mapped.cols</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'XrefId'</span>
<span class="fu"><a href="../reference/loadTableData.html">loadTableData</a></span><span class="op">(</span><span class="va">only.mapped.cols</span>,table.key.column <span class="op">=</span> <span class="st">'SUID'</span><span class="op">)</span></code></pre></div>
<p>Done! See the updated <em>XrefId</em> column in Cytoscape with all Ensembl IDs.</p>
<p><em>Note: you’ll want to either update the </em>XrefDatasource* column as well or simply make a note to ignore it at this point.*</p>
</div>
</div>
<div id="more-advanced-cases" class="section level1">
<h1 class="hasAnchor">
<a href="#more-advanced-cases" class="anchor"></a>More advanced cases</h1>
<p>This identifier mapping function is intended to handle the majority of common ID mapping problems. It has limitation, however.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span><span class="va">mapTableColumn</span></code></pre></div>
<p>If you need an ID mapping solution for species or ID types not covered by this tool, or if you want to connect to alternative sources of mappings, then check out the BridgeDb app: <a href="http://apps.cytoscape.org/apps/bridgedb" class="uri">http://apps.cytoscape.org/apps/bridgedb</a>. Note that metabolite databases are currently not supported!</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#available in Cytoscape 3.7.0 and above</span>
<span class="fu"><a href="../reference/installApp.html">installApp</a></span><span class="op">(</span><span class="st">'BridgeDb'</span><span class="op">)</span>  </code></pre></div>
<p>And then browse the available function with</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/commandsHelp.html">commandsHelp</a></span><span class="op">(</span><span class="st">'bridgedb'</span><span class="op">)</span> </code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alex Pico, Tanja Muetze, Paul Shannon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
